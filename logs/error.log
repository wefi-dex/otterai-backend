2025-09-17 22:38:27 [ERROR]: Unable to connect to the PostgreSQL database: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{},"original":{}}
SequelizeConnectionError: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:149:20)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Client._handleAuthSASLContinue (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:284:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-17 22:38:42 [ERROR]: Unable to connect to the PostgreSQL database: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{},"original":{}}
SequelizeConnectionError: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:149:20)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Client._handleAuthSASLContinue (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:284:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-17 22:40:13 [ERROR]: Unable to connect to the PostgreSQL database: no pg_hba.conf entry for host "127.0.0.1", user "postgres", database "otterai_sales_analytics", no encryption {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{"length":172,"name":"error","severity":"FATAL","code":"28000","file":"auth.c","line":"540","routine":"ClientAuthentication"},"original":{"length":172,"name":"error","severity":"FATAL","code":"28000","file":"auth.c","line":"540","routine":"ClientAuthentication"}}
SequelizeConnectionError: no pg_hba.conf entry for host "127.0.0.1", user "postgres", database "otterai_sales_analytics", no encryption
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:145:24)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorMessage (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:356:19)
    at Connection.emit (node:events:507:28)
    at D:\Projects\otterai\otterai-backend\node_modules\pg\lib\connection.js:116:12
    at Parser.parse (D:\Projects\otterai\otterai-backend\node_modules\pg-protocol\dist\parser.js:36:17)
    at Socket.<anonymous> (D:\Projects\otterai\otterai-backend\node_modules\pg-protocol\dist\index.js:11:42)
    at Socket.emit (node:events:507:28)
    at addChunk (node:internal/streams/readable:559:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
2025-09-18 04:35:19 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:35:20 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:36:48 [ERROR]: Error fetching notifications: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:32:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:36:48 [ERROR]: Error fetching unread count: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:76:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:36:49 [ERROR]: Error fetching notifications: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:32:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:36:49 [ERROR]: Error fetching unread count: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:76:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:37:49 [ERROR]: Error fetching notifications: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:32:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:37:49 [ERROR]: Error fetching unread count: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:76:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:37:50 [ERROR]: Error fetching notifications: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:32:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-18 04:37:50 [ERROR]: Error fetching unread count: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:76:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:02:39 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:02:40 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:02:58 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:02:59 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:27:05 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:27:06 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:44:27 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:44:28 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:44:35 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 19:44:36 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 21:27:48 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 21:27:49 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 21:31:42 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 21:31:43 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:49:30 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:49:32 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:49:39 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:49:41 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:49:49 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:49:50 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:52:42 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-23 22:52:43 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 21:18:32 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 21:18:32 [ERROR]: Error fetching analytics overview: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:31:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 21:18:48 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 21:18:48 [ERROR]: Error fetching analytics overview: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:31:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 21:19:02 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 21:19:02 [ERROR]: Error fetching analytics overview: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:31:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:36 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:36 [ERROR]: Authentication error: Cannot read properties of null (reading 'findByPk') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'findByPk')
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:23:29)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:36 [ERROR]: Authentication error: Cannot read properties of null (reading 'findByPk') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'findByPk')
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:23:29)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:40 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:40 [ERROR]: Authentication error: Cannot read properties of null (reading 'findByPk') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'findByPk')
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:23:29)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:40 [ERROR]: Authentication error: Cannot read properties of null (reading 'findByPk') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'findByPk')
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:23:29)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:46 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:46 [ERROR]: Authentication error: Cannot read properties of null (reading 'findByPk') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'findByPk')
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:23:29)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:00:46 [ERROR]: Authentication error: Cannot read properties of null (reading 'findByPk') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'findByPk')
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:23:29)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:03:23 [ERROR]: Unable to connect to the PostgreSQL database: column "organization_id" of relation "users" contains null values {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":160,"name":"error","severity":"ERROR","code":"23502","schema":"public","table":"users","column":"organization_id","file":"tablecmds.c","line":"6960","routine":"ATRewriteTable","sql":"ALTER TABLE \"users\" ALTER COLUMN \"organization_id\" SET NOT NULL;ALTER TABLE \"users\"  ADD FOREIGN KEY (\"organization_id\") REFERENCES \"organizations\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;"},"original":{"length":160,"name":"error","severity":"ERROR","code":"23502","schema":"public","table":"users","column":"organization_id","file":"tablecmds.c","line":"6960","routine":"ATRewriteTable","sql":"ALTER TABLE \"users\" ALTER COLUMN \"organization_id\" SET NOT NULL;ALTER TABLE \"users\"  ADD FOREIGN KEY (\"organization_id\") REFERENCES \"organizations\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;"},"sql":"ALTER TABLE \"users\" ALTER COLUMN \"organization_id\" SET NOT NULL;ALTER TABLE \"users\"  ADD FOREIGN KEY (\"organization_id\") REFERENCES \"organizations\" (\"id\") ON DELETE CASCADE ON UPDATE CASCADE;","parameters":{}}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async User.sync (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:984:11)
    at async Sequelize._syncModelsWithCyclicReferences (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:398:7)
    at async initializeDatabase (D:\Projects\otterai\otterai-backend\src\database\connection.js:239:5)
    at async startServer (D:\Projects\otterai\otterai-backend\src\server.js:138:5)
2025-09-25 22:13:19 [ERROR]: Unable to connect to the PostgreSQL database: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{},"original":{}}
SequelizeConnectionError: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:149:20)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Client._handleAuthSASLContinue (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:284:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 22:14:16 [ERROR]: Unable to connect to the PostgreSQL database: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{},"original":{}}
SequelizeConnectionError: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:149:20)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Client._handleAuthSASLContinue (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:284:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 22:15:19 [ERROR]: Unable to connect to the PostgreSQL database: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{},"original":{}}
SequelizeConnectionError: SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:149:20)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Client._handleAuthSASLContinue (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:284:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 22:15:28 [ERROR]: Unable to connect to the PostgreSQL database: password authentication failed for user "postgres" {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{"length":104,"name":"error","severity":"FATAL","code":"28P01","file":"auth.c","line":"332","routine":"auth_failed"},"original":{"length":104,"name":"error","severity":"FATAL","code":"28P01","file":"auth.c","line":"332","routine":"auth_failed"}}
SequelizeConnectionError: password authentication failed for user "postgres"
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:145:24)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorMessage (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:356:19)
    at Connection.emit (node:events:507:28)
    at D:\Projects\otterai\otterai-backend\node_modules\pg\lib\connection.js:116:12
    at Parser.parse (D:\Projects\otterai\otterai-backend\node_modules\pg-protocol\dist\parser.js:36:17)
    at Socket.<anonymous> (D:\Projects\otterai\otterai-backend\node_modules\pg-protocol\dist\index.js:11:42)
    at Socket.emit (node:events:507:28)
    at addChunk (node:internal/streams/readable:559:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
2025-09-25 22:17:13 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:17:13 [ERROR]: Authentication error: column organization.subscriptionPlan does not exist {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":205,"name":"error","severity":"ERROR","code":"42703","hint":"Perhaps you meant to reference the column \"organization.subscription_plan\".","position":"629","file":"parse_relation.c","line":"4056","routine":"errorMissingColumn","sql":"SELECT \"User\".\"id\", \"User\".\"email\", \"User\".\"password\", \"User\".\"first_name\", \"User\".\"last_name\", \"User\".\"phone\", \"User\".\"role\", \"User\".\"status\", \"User\".\"organization_id\", \"User\".\"manager_id\", \"User\".\"last_login_at\", \"User\".\"preferences\", \"User\".\"profile_image_url\", \"User\".\"is_online\", \"User\".\"device_token\", \"User\".\"reset_password_token\", \"User\".\"reset_password_expires\", \"User\".\"created_at\" AS \"createdAt\", \"User\".\"updated_at\" AS \"updatedAt\", \"organization\".\"id\" AS \"organization.id\", \"organization\".\"name\" AS \"organization.name\", \"organization\".\"type\" AS \"organization.type\", \"organization\".\"status\" AS \"organization.status\", \"organization\".\"subscriptionPlan\" AS \"organization.subscriptionPlan\" FROM \"users\" AS \"User\" LEFT OUTER JOIN \"organizations\" AS \"organization\" ON \"User\".\"organization_id\" = \"organization\".\"id\" WHERE \"User\".\"id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160';"},"original":{"length":205,"name":"error","severity":"ERROR","code":"42703","hint":"Perhaps you meant to reference the column \"organization.subscription_plan\".","position":"629","file":"parse_relation.c","line":"4056","routine":"errorMissingColumn","sql":"SELECT \"User\".\"id\", \"User\".\"email\", \"User\".\"password\", \"User\".\"first_name\", \"User\".\"last_name\", \"User\".\"phone\", \"User\".\"role\", \"User\".\"status\", \"User\".\"organization_id\", \"User\".\"manager_id\", \"User\".\"last_login_at\", \"User\".\"preferences\", \"User\".\"profile_image_url\", \"User\".\"is_online\", \"User\".\"device_token\", \"User\".\"reset_password_token\", \"User\".\"reset_password_expires\", \"User\".\"created_at\" AS \"createdAt\", \"User\".\"updated_at\" AS \"updatedAt\", \"organization\".\"id\" AS \"organization.id\", \"organization\".\"name\" AS \"organization.name\", \"organization\".\"type\" AS \"organization.type\", \"organization\".\"status\" AS \"organization.status\", \"organization\".\"subscriptionPlan\" AS \"organization.subscriptionPlan\" FROM \"users\" AS \"User\" LEFT OUTER JOIN \"organizations\" AS \"organization\" ON \"User\".\"organization_id\" = \"organization\".\"id\" WHERE \"User\".\"id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160';"},"sql":"SELECT \"User\".\"id\", \"User\".\"email\", \"User\".\"password\", \"User\".\"first_name\", \"User\".\"last_name\", \"User\".\"phone\", \"User\".\"role\", \"User\".\"status\", \"User\".\"organization_id\", \"User\".\"manager_id\", \"User\".\"last_login_at\", \"User\".\"preferences\", \"User\".\"profile_image_url\", \"User\".\"is_online\", \"User\".\"device_token\", \"User\".\"reset_password_token\", \"User\".\"reset_password_expires\", \"User\".\"created_at\" AS \"createdAt\", \"User\".\"updated_at\" AS \"updatedAt\", \"organization\".\"id\" AS \"organization.id\", \"organization\".\"name\" AS \"organization.name\", \"organization\".\"type\" AS \"organization.type\", \"organization\".\"status\" AS \"organization.status\", \"organization\".\"subscriptionPlan\" AS \"organization.subscriptionPlan\" FROM \"users\" AS \"User\" LEFT OUTER JOIN \"organizations\" AS \"organization\" ON \"User\".\"organization_id\" = \"organization\".\"id\" WHERE \"User\".\"id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160';","parameters":{}}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.select (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:12)
    at async User.findAll (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1140:21)
    at async User.findOne (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1240:12)
    at async User.findByPk (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1221:12)
    at async authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:32:18)
2025-09-25 22:17:13 [ERROR]: Authentication error: column organization.subscriptionPlan does not exist {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":205,"name":"error","severity":"ERROR","code":"42703","hint":"Perhaps you meant to reference the column \"organization.subscription_plan\".","position":"629","file":"parse_relation.c","line":"4056","routine":"errorMissingColumn","sql":"SELECT \"User\".\"id\", \"User\".\"email\", \"User\".\"password\", \"User\".\"first_name\", \"User\".\"last_name\", \"User\".\"phone\", \"User\".\"role\", \"User\".\"status\", \"User\".\"organization_id\", \"User\".\"manager_id\", \"User\".\"last_login_at\", \"User\".\"preferences\", \"User\".\"profile_image_url\", \"User\".\"is_online\", \"User\".\"device_token\", \"User\".\"reset_password_token\", \"User\".\"reset_password_expires\", \"User\".\"created_at\" AS \"createdAt\", \"User\".\"updated_at\" AS \"updatedAt\", \"organization\".\"id\" AS \"organization.id\", \"organization\".\"name\" AS \"organization.name\", \"organization\".\"type\" AS \"organization.type\", \"organization\".\"status\" AS \"organization.status\", \"organization\".\"subscriptionPlan\" AS \"organization.subscriptionPlan\" FROM \"users\" AS \"User\" LEFT OUTER JOIN \"organizations\" AS \"organization\" ON \"User\".\"organization_id\" = \"organization\".\"id\" WHERE \"User\".\"id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160';"},"original":{"length":205,"name":"error","severity":"ERROR","code":"42703","hint":"Perhaps you meant to reference the column \"organization.subscription_plan\".","position":"629","file":"parse_relation.c","line":"4056","routine":"errorMissingColumn","sql":"SELECT \"User\".\"id\", \"User\".\"email\", \"User\".\"password\", \"User\".\"first_name\", \"User\".\"last_name\", \"User\".\"phone\", \"User\".\"role\", \"User\".\"status\", \"User\".\"organization_id\", \"User\".\"manager_id\", \"User\".\"last_login_at\", \"User\".\"preferences\", \"User\".\"profile_image_url\", \"User\".\"is_online\", \"User\".\"device_token\", \"User\".\"reset_password_token\", \"User\".\"reset_password_expires\", \"User\".\"created_at\" AS \"createdAt\", \"User\".\"updated_at\" AS \"updatedAt\", \"organization\".\"id\" AS \"organization.id\", \"organization\".\"name\" AS \"organization.name\", \"organization\".\"type\" AS \"organization.type\", \"organization\".\"status\" AS \"organization.status\", \"organization\".\"subscriptionPlan\" AS \"organization.subscriptionPlan\" FROM \"users\" AS \"User\" LEFT OUTER JOIN \"organizations\" AS \"organization\" ON \"User\".\"organization_id\" = \"organization\".\"id\" WHERE \"User\".\"id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160';"},"sql":"SELECT \"User\".\"id\", \"User\".\"email\", \"User\".\"password\", \"User\".\"first_name\", \"User\".\"last_name\", \"User\".\"phone\", \"User\".\"role\", \"User\".\"status\", \"User\".\"organization_id\", \"User\".\"manager_id\", \"User\".\"last_login_at\", \"User\".\"preferences\", \"User\".\"profile_image_url\", \"User\".\"is_online\", \"User\".\"device_token\", \"User\".\"reset_password_token\", \"User\".\"reset_password_expires\", \"User\".\"created_at\" AS \"createdAt\", \"User\".\"updated_at\" AS \"updatedAt\", \"organization\".\"id\" AS \"organization.id\", \"organization\".\"name\" AS \"organization.name\", \"organization\".\"type\" AS \"organization.type\", \"organization\".\"status\" AS \"organization.status\", \"organization\".\"subscriptionPlan\" AS \"organization.subscriptionPlan\" FROM \"users\" AS \"User\" LEFT OUTER JOIN \"organizations\" AS \"organization\" ON \"User\".\"organization_id\" = \"organization\".\"id\" WHERE \"User\".\"id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160';","parameters":{}}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.select (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:12)
    at async User.findAll (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1140:21)
    at async User.findOne (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1240:12)
    at async User.findByPk (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1221:12)
    at async authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:32:18)
2025-09-25 22:32:07 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:32:07 [ERROR]: Error fetching performance analytics: WHERE parameter "organization_id" has invalid "undefined" value {"service":"otterai-sales-analytics","environment":"development"}
Error: WHERE parameter "organization_id" has invalid "undefined" value
    at PostgresQueryGenerator.whereItemQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1746:13)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1737:25
    at Array.forEach (<anonymous>)
    at PostgresQueryGenerator.whereItemsQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1735:35)
    at PostgresQueryGenerator.getWhereConditions (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:2078:19)
    at PostgresQueryGenerator.selectQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:991:28)
    at PostgresQueryInterface.select (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:59)
    at Analytics.findAll (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1140:47)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\Projects\otterai\otterai-backend\src\routes\analytics.js:163:23
2025-09-25 22:32:07 [ERROR]: Error fetching analytics overview: WHERE parameter "organizationId" has invalid "undefined" value {"service":"otterai-sales-analytics","environment":"development"}
Error: WHERE parameter "organizationId" has invalid "undefined" value
    at PostgresQueryGenerator.whereItemQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1746:13)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1737:25
    at Array.forEach (<anonymous>)
    at PostgresQueryGenerator.whereItemsQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1735:35)
    at PostgresQueryGenerator.getWhereConditions (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:2078:19)
    at PostgresQueryGenerator.selectQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:991:28)
    at PostgresQueryInterface.select (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:59)
    at SalesCall.findAll (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1140:47)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\Projects\otterai\otterai-backend\src\routes\analytics.js:43:24
2025-09-25 22:34:07 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:34:07 [ERROR]: Error fetching analytics overview: WHERE parameter "organizationId" has invalid "undefined" value {"service":"otterai-sales-analytics","environment":"development"}
Error: WHERE parameter "organizationId" has invalid "undefined" value
    at PostgresQueryGenerator.whereItemQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1746:13)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1737:25
    at Array.forEach (<anonymous>)
    at PostgresQueryGenerator.whereItemsQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1735:35)
    at PostgresQueryGenerator.getWhereConditions (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:2078:19)
    at PostgresQueryGenerator.selectQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:991:28)
    at PostgresQueryInterface.select (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:59)
    at SalesCall.findAll (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1140:47)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\Projects\otterai\otterai-backend\src\routes\analytics.js:43:24
2025-09-25 22:34:07 [ERROR]: Error fetching performance analytics: WHERE parameter "organization_id" has invalid "undefined" value {"service":"otterai-sales-analytics","environment":"development"}
Error: WHERE parameter "organization_id" has invalid "undefined" value
    at PostgresQueryGenerator.whereItemQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1746:13)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1737:25
    at Array.forEach (<anonymous>)
    at PostgresQueryGenerator.whereItemsQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:1735:35)
    at PostgresQueryGenerator.getWhereConditions (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:2078:19)
    at PostgresQueryGenerator.selectQuery (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-generator.js:991:28)
    at PostgresQueryInterface.select (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:407:59)
    at Analytics.findAll (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1140:47)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async D:\Projects\otterai\otterai-backend\src\routes\analytics.js:163:23
2025-09-25 22:42:05 [ERROR]: Error fetching sales calls: Cannot read properties of undefined (reading 'organizationId') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'organizationId')
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:32:37
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 22:44:51 [ERROR]: Error fetching sales calls: SalesCall is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: SalesCall is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\salesCalls.js:44:24
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:70:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 23:29:08 [ERROR]: Error fetching notifications: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:32:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 23:29:09 [ERROR]: Error fetching unread count: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:76:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 23:29:14 [ERROR]: Error fetching notifications: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:32:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 23:29:15 [ERROR]: Error fetching unread count: Cannot read properties of undefined (reading 'id') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of undefined (reading 'id')
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:76:29
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:284:15
    at router.process_params (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:280:10)
    at router.handle (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:175:3)
    at router (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\index.js:47:12)
2025-09-25 23:32:05 [ERROR]: Error fetching notifications: Notification is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: Notification is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:38:27
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:70:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 23:32:05 [ERROR]: Error fetching unread count: Notification is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: Notification is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:78:25
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:70:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 23:32:06 [ERROR]: Error fetching notifications: Notification is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: Notification is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:38:27
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:70:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 23:32:06 [ERROR]: Error fetching unread count: Notification is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: Notification is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\notifications.js:78:25
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at authenticateToken (D:\Projects\otterai\otterai-backend\src\middleware\auth.js:70:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-25 23:35:02 [ERROR]: Error fetching unread count: column Notification.status does not exist {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":118,"name":"error","severity":"ERROR","code":"42703","position":"143","file":"parse_relation.c","line":"4045","routine":"errorMissingColumn","sql":"SELECT count(*) AS \"count\" FROM \"notifications\" AS \"Notification\" WHERE \"Notification\".\"user_id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160' AND \"Notification\".\"status\" = 'unread';"},"original":{"length":118,"name":"error","severity":"ERROR","code":"42703","position":"143","file":"parse_relation.c","line":"4045","routine":"errorMissingColumn","sql":"SELECT count(*) AS \"count\" FROM \"notifications\" AS \"Notification\" WHERE \"Notification\".\"user_id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160' AND \"Notification\".\"status\" = 'unread';"},"sql":"SELECT count(*) AS \"count\" FROM \"notifications\" AS \"Notification\" WHERE \"Notification\".\"user_id\" = 'c95c9d4e-bc0b-484e-b8c6-5328c9b33160' AND \"Notification\".\"status\" = 'unread';","parameters":{}}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.rawSelect (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:434:18)
    at async Notification.aggregate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1277:19)
    at async Notification.count (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1306:20)
    at async D:\Projects\otterai\otterai-backend\src\routes\notifications.js:80:25
2025-09-26 00:46:35 [ERROR]: Error creating analytics record: notNull Violation: Analytics.organization_id cannot be null {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Analytics.organization_id cannot be null","type":"notNull Violation","path":"organization_id","value":null,"origin":"CORE","instance":{"id":"774ed3e2-0c4f-43a7-a346-5540010b71e7","organization_id":null,"report_type":"otterai_analysis","report_name":"OtterAI Analysis - ew98w8-324b3-33n","report_data":{"transcript_data":null,"sentiment_analysis":{"sentiment_category":"very impressive","strengths":"so beauty","weaknesses":"so ugly","meeting_score":"10"},"meeting_id":"ew98w8-324b3-33n","analysis_timestamp":"2025-09-25T15:46:35.368Z"},"filters":{},"date_range":{"start":"2025-09-25T15:46:35.369Z","end":"2025-09-25T15:46:35.369Z"},"generated_at":"2025-09-25T15:46:35.369Z","expires_at":"2025-10-25T15:46:35.369Z","is_scheduled":false,"updatedAt":"2025-09-25T15:46:35.369Z","createdAt":"2025-09-25T15:46:35.369Z"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]}]}
SequelizeValidationError: notNull Violation: Analytics.organization_id cannot be null
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Analytics.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:740:9
2025-09-26 00:59:43 [ERROR]: Error handling sales call: notNull Violation: SalesCall.organization_id cannot be null,
notNull Violation: SalesCall.sales_representative_id cannot be null,
Validation error: Validation isIn on customer_sentiment failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"SalesCall.organization_id cannot be null","type":"notNull Violation","path":"organization_id","value":null,"origin":"CORE","instance":{"id":"3ab0e301-e39b-4727-9b59-9b89d74fe3f8","tags":[],"is_live_monitored":false,"organization_id":null,"sales_representative_id":null,"customer_name":"Unknown Customer","customer_email":null,"appointment_date":"2025-09-25T15:59:43.230Z","status":"completed","outcome":"sale","analysis_data":{"meeting_id":"ew98w8-324b3-33n","sentiment_analysis":{"sentiment_category":"very impressive","strengths":"so beauty","weaknesses":"so ugly","meeting_score":"10"},"transcript_data":null},"transcript_url":null,"performance_score":10,"strengths":["so beauty"],"weaknesses":["so ugly"],"recommendations":[],"key_topics_covered":[],"objections_handled":[],"customer_sentiment":"very impressive","script_compliance":null,"updatedAt":"2025-09-25T15:59:43.231Z","createdAt":"2025-09-25T15:59:43.231Z"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"SalesCall.sales_representative_id cannot be null","type":"notNull Violation","path":"sales_representative_id","value":null,"origin":"CORE","instance":{"id":"3ab0e301-e39b-4727-9b59-9b89d74fe3f8","tags":[],"is_live_monitored":false,"organization_id":null,"sales_representative_id":null,"customer_name":"Unknown Customer","customer_email":null,"appointment_date":"2025-09-25T15:59:43.230Z","status":"completed","outcome":"sale","analysis_data":{"meeting_id":"ew98w8-324b3-33n","sentiment_analysis":{"sentiment_category":"very impressive","strengths":"so beauty","weaknesses":"so ugly","meeting_score":"10"},"transcript_data":null},"transcript_url":null,"performance_score":10,"strengths":["so beauty"],"weaknesses":["so ugly"],"recommendations":[],"key_topics_covered":[],"objections_handled":[],"customer_sentiment":"very impressive","script_compliance":null,"updatedAt":"2025-09-25T15:59:43.231Z","createdAt":"2025-09-25T15:59:43.231Z"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"Validation isIn on customer_sentiment failed","type":"Validation error","path":"customer_sentiment","value":"very impressive","origin":"FUNCTION","instance":{"id":"3ab0e301-e39b-4727-9b59-9b89d74fe3f8","tags":[],"is_live_monitored":false,"organization_id":null,"sales_representative_id":null,"customer_name":"Unknown Customer","customer_email":null,"appointment_date":"2025-09-25T15:59:43.230Z","status":"completed","outcome":"sale","analysis_data":{"meeting_id":"ew98w8-324b3-33n","sentiment_analysis":{"sentiment_category":"very impressive","strengths":"so beauty","weaknesses":"so ugly","meeting_score":"10"},"transcript_data":null},"transcript_url":null,"performance_score":10,"strengths":["so beauty"],"weaknesses":["so ugly"],"recommendations":[],"key_topics_covered":[],"objections_handled":[],"customer_sentiment":"very impressive","script_compliance":null,"updatedAt":"2025-09-25T15:59:43.231Z","createdAt":"2025-09-25T15:59:43.231Z"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":[["positive","neutral","negative"]],"original":{"validatorName":"isIn","validatorArgs":[["positive","neutral","negative"]]}}]}
SequelizeValidationError: notNull Violation: SalesCall.organization_id cannot be null,
notNull Violation: SalesCall.sales_representative_id cannot be null,
Validation error: Validation isIn on customer_sentiment failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async SalesCall.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:753:30
2025-09-26 01:02:24 [ERROR]: Error handling sales call: numeric field overflow {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":164,"name":"error","severity":"ERROR","code":"22003","detail":"A field with precision 3, scale 2 must round to an absolute value less than 10^1.","file":"numeric.c","line":"8007","routine":"apply_typmod","sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"status\",\"outcome\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["f2eee639-5b40-4f45-842e-8634e07fc0ad","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","Unknown Customer",null,"2025-09-25 16:02:24.372 +00:00","completed","sale",null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",10,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 16:02:24.373 +00:00","2025-09-25 16:02:24.373 +00:00"]},"original":{"length":164,"name":"error","severity":"ERROR","code":"22003","detail":"A field with precision 3, scale 2 must round to an absolute value less than 10^1.","file":"numeric.c","line":"8007","routine":"apply_typmod","sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"status\",\"outcome\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["f2eee639-5b40-4f45-842e-8634e07fc0ad","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","Unknown Customer",null,"2025-09-25 16:02:24.372 +00:00","completed","sale",null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",10,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 16:02:24.373 +00:00","2025-09-25 16:02:24.373 +00:00"]},"sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"status\",\"outcome\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["f2eee639-5b40-4f45-842e-8634e07fc0ad","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","Unknown Customer",null,"2025-09-25 16:02:24.372 +00:00","completed","sale",null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",10,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 16:02:24.373 +00:00","2025-09-25 16:02:24.373 +00:00"]}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.insert (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:308:21)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2490:35)
    at async SalesCall.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:767:32
2025-09-26 01:02:24 [ERROR]: Error creating analytics record: insert or update on table "analytics" violates foreign key constraint "analytics_organization_id_fkey" {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeForeignKeyConstraintError","parent":{"length":325,"name":"error","severity":"ERROR","code":"23503","detail":"Key (organization_id)=(c95c9d4e-bc0b-484e-b8c6-5328c9b33160) is not present in table \"organizations\".","schema":"public","table":"analytics","constraint":"analytics_organization_id_fkey","file":"ri_triggers.c","line":"2610","routine":"ri_ReportViolation","sql":"INSERT INTO \"analytics\" (\"id\",\"organization_id\",\"user_id\",\"report_type\",\"report_name\",\"report_data\",\"filters\",\"date_range\",\"generated_at\",\"expires_at\",\"is_scheduled\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id\",\"organization_id\",\"user_id\",\"report_type\",\"report_name\",\"report_data\",\"filters\",\"date_range\",\"generated_at\",\"expires_at\",\"is_scheduled\",\"schedule_frequency\",\"last_generated\",\"created_at\",\"updated_at\";","parameters":["a6063192-2177-4b65-b279-aad0ce56cd23","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","otterai_analysis","OtterAI Analysis - ew98w8-324b3-33n","{\"transcript_data\":null,\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"meeting_id\":\"ew98w8-324b3-33n\",\"analysis_timestamp\":\"2025-09-25T16:02:24.378Z\"}","{}","{\"start\":\"2025-09-25T16:02:24.378Z\",\"end\":\"2025-09-25T16:02:24.378Z\"}","2025-09-25 16:02:24.378 +00:00","2025-10-25 16:02:24.378 +00:00",false,"2025-09-25 16:02:24.378 +00:00","2025-09-25 16:02:24.378 +00:00"]},"original":{"length":325,"name":"error","severity":"ERROR","code":"23503","detail":"Key (organization_id)=(c95c9d4e-bc0b-484e-b8c6-5328c9b33160) is not present in table \"organizations\".","schema":"public","table":"analytics","constraint":"analytics_organization_id_fkey","file":"ri_triggers.c","line":"2610","routine":"ri_ReportViolation","sql":"INSERT INTO \"analytics\" (\"id\",\"organization_id\",\"user_id\",\"report_type\",\"report_name\",\"report_data\",\"filters\",\"date_range\",\"generated_at\",\"expires_at\",\"is_scheduled\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id\",\"organization_id\",\"user_id\",\"report_type\",\"report_name\",\"report_data\",\"filters\",\"date_range\",\"generated_at\",\"expires_at\",\"is_scheduled\",\"schedule_frequency\",\"last_generated\",\"created_at\",\"updated_at\";","parameters":["a6063192-2177-4b65-b279-aad0ce56cd23","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","otterai_analysis","OtterAI Analysis - ew98w8-324b3-33n","{\"transcript_data\":null,\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"meeting_id\":\"ew98w8-324b3-33n\",\"analysis_timestamp\":\"2025-09-25T16:02:24.378Z\"}","{}","{\"start\":\"2025-09-25T16:02:24.378Z\",\"end\":\"2025-09-25T16:02:24.378Z\"}","2025-09-25 16:02:24.378 +00:00","2025-10-25 16:02:24.378 +00:00",false,"2025-09-25 16:02:24.378 +00:00","2025-09-25 16:02:24.378 +00:00"]},"sql":"INSERT INTO \"analytics\" (\"id\",\"organization_id\",\"user_id\",\"report_type\",\"report_name\",\"report_data\",\"filters\",\"date_range\",\"generated_at\",\"expires_at\",\"is_scheduled\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13) RETURNING \"id\",\"organization_id\",\"user_id\",\"report_type\",\"report_name\",\"report_data\",\"filters\",\"date_range\",\"generated_at\",\"expires_at\",\"is_scheduled\",\"schedule_frequency\",\"last_generated\",\"created_at\",\"updated_at\";","parameters":["a6063192-2177-4b65-b279-aad0ce56cd23","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","c95c9d4e-bc0b-484e-b8c6-5328c9b33160","otterai_analysis","OtterAI Analysis - ew98w8-324b3-33n","{\"transcript_data\":null,\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"meeting_id\":\"ew98w8-324b3-33n\",\"analysis_timestamp\":\"2025-09-25T16:02:24.378Z\"}","{}","{\"start\":\"2025-09-25T16:02:24.378Z\",\"end\":\"2025-09-25T16:02:24.378Z\"}","2025-09-25 16:02:24.378 +00:00","2025-10-25 16:02:24.378 +00:00",false,"2025-09-25 16:02:24.378 +00:00","2025-09-25 16:02:24.378 +00:00"],"table":"analytics","fields":null,"index":"analytics_organization_id_fkey"}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.insert (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:308:21)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2490:35)
    at async Analytics.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:785:9
2025-09-26 01:02:24 [ERROR]: Error sending notification: Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"otterai_analysis_complete","origin":"FUNCTION","instance":{"id":"65d32261-2563-429d-9563-4527754b5373","organizationId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"otterai_analysis_complete","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"medium","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"medium","origin":"FUNCTION","instance":{"id":"65d32261-2563-429d-9563-4527754b5373","organizationId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"otterai_analysis_complete","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"medium","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:820:9
2025-09-26 01:19:04 [ERROR]: Error handling sales call: numeric field overflow {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":164,"name":"error","severity":"ERROR","code":"22003","detail":"A field with precision 3, scale 2 must round to an absolute value less than 10^1.","file":"numeric.c","line":"8007","routine":"apply_typmod","sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"status\",\"outcome\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["87368063-4cc8-47db-900f-d36fbc3c90c4",null,"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","Unknown Customer",null,"2025-09-25 16:19:04.243 +00:00","completed","sale",null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",10,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 16:19:04.244 +00:00","2025-09-25 16:19:04.244 +00:00"]},"original":{"length":164,"name":"error","severity":"ERROR","code":"22003","detail":"A field with precision 3, scale 2 must round to an absolute value less than 10^1.","file":"numeric.c","line":"8007","routine":"apply_typmod","sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"status\",\"outcome\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["87368063-4cc8-47db-900f-d36fbc3c90c4",null,"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","Unknown Customer",null,"2025-09-25 16:19:04.243 +00:00","completed","sale",null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",10,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 16:19:04.244 +00:00","2025-09-25 16:19:04.244 +00:00"]},"sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"status\",\"outcome\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["87368063-4cc8-47db-900f-d36fbc3c90c4",null,"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","Unknown Customer",null,"2025-09-25 16:19:04.243 +00:00","completed","sale",null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",10,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 16:19:04.244 +00:00","2025-09-25 16:19:04.244 +00:00"]}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.insert (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:308:21)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2490:35)
    at async SalesCall.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:767:32
2025-09-26 01:19:04 [ERROR]: Error sending notification: notNull Violation: Notification.organization_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Notification.organization_id cannot be null","type":"notNull Violation","path":"organization_id","value":null,"origin":"CORE","instance":{"id":"1e3f7c01-43bb-4737-bbe9-e4939488ce83","organizationId":null,"userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"otterai_analysis_complete","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"medium","status":"unread"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"otterai_analysis_complete","origin":"FUNCTION","instance":{"id":"1e3f7c01-43bb-4737-bbe9-e4939488ce83","organizationId":null,"userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"otterai_analysis_complete","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"medium","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"medium","origin":"FUNCTION","instance":{"id":"1e3f7c01-43bb-4737-bbe9-e4939488ce83","organizationId":null,"userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"otterai_analysis_complete","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"medium","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: notNull Violation: Notification.organization_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:820:9
2025-09-26 01:21:29 [ERROR]: Error sending notification: Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"call_completed","origin":"FUNCTION","instance":{"id":"a5ded485-771e-41af-94c2-d85040aed378","organizationId":null,"userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"normal","origin":"FUNCTION","instance":{"id":"a5ded485-771e-41af-94c2-d85040aed378","organizationId":null,"userId":"c95c9d4e-bc0b-484e-b8c6-5328c9b33160","type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:820:9
2025-09-26 01:41:48 [ERROR]: Unable to connect to the PostgreSQL database: {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{"code":"EACCES"},"original":{"code":"EACCES"}}
SequelizeConnectionError
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:145:24)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Socket.reportStreamError (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\connection.js:57:12)
    at Socket.emit (node:events:507:28)
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-09-26 01:48:42 [ERROR]: Uncaught Exception: listen EADDRINUSE: address already in use :::3001 {"service":"otterai-sales-analytics","environment":"development","code":"EADDRINUSE","errno":-4091,"syscall":"listen","address":"::","port":3001}
Error: listen EADDRINUSE: address already in use :::3001
    at Server.setupListenHandle [as _listen2] (node:net:1940:16)
    at listenInCluster (node:net:1997:12)
    at Server.listen (node:net:2102:7)
    at startServer (D:\Projects\otterai\otterai-backend\src\server.js:141:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 02:23:36 [ERROR]: Error handling sales call: null value in column "sales_representative_id" of relation "sales_calls" violates not-null constraint {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeDatabaseError","parent":{"length":629,"name":"error","severity":"ERROR","code":"23502","detail":"Failing row contains (a5d8042f-97f1-43b3-9372-1ad615f9e4e0, null, null, null, Unknown Customer, null, null, 2025-09-25 17:23:36.279+00, null, null, null, completed, null, null, ew98w8-324b3-33n, null, null, {\"meeting_id\": \"ew98w8-324b3-33n\", \"transcript_data\": null, \"sen..., 9.99, [\"so beauty\"], [\"so ugly\"], [], null, [], [], positive, null, [], f, null, 2025-09-25 17:23:36.28+00, 2025-09-25 17:23:36.28+00).","schema":"public","table":"sales_calls","column":"sales_representative_id","file":"execMain.c","line":"2100","routine":"ExecConstraints_BDRPG","sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["a5d8042f-97f1-43b3-9372-1ad615f9e4e0",null,null,"Unknown Customer",null,"2025-09-25 17:23:36.279 +00:00",null,"completed",null,null,"ew98w8-324b3-33n",null,null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",9.99,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 17:23:36.280 +00:00","2025-09-25 17:23:36.280 +00:00"]},"original":{"length":629,"name":"error","severity":"ERROR","code":"23502","detail":"Failing row contains (a5d8042f-97f1-43b3-9372-1ad615f9e4e0, null, null, null, Unknown Customer, null, null, 2025-09-25 17:23:36.279+00, null, null, null, completed, null, null, ew98w8-324b3-33n, null, null, {\"meeting_id\": \"ew98w8-324b3-33n\", \"transcript_data\": null, \"sen..., 9.99, [\"so beauty\"], [\"so ugly\"], [], null, [], [], positive, null, [], f, null, 2025-09-25 17:23:36.28+00, 2025-09-25 17:23:36.28+00).","schema":"public","table":"sales_calls","column":"sales_representative_id","file":"execMain.c","line":"2100","routine":"ExecConstraints_BDRPG","sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["a5d8042f-97f1-43b3-9372-1ad615f9e4e0",null,null,"Unknown Customer",null,"2025-09-25 17:23:36.279 +00:00",null,"completed",null,null,"ew98w8-324b3-33n",null,null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",9.99,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 17:23:36.280 +00:00","2025-09-25 17:23:36.280 +00:00"]},"sql":"INSERT INTO \"sales_calls\" (\"id\",\"organization_id\",\"sales_representative_id\",\"customer_name\",\"customer_email\",\"appointment_date\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"tags\",\"is_live_monitored\",\"created_at\",\"updated_at\") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23,$24,$25,$26) RETURNING \"id\",\"organization_id\",\"sales_representative_id\",\"manager_id\",\"customer_name\",\"customer_phone\",\"customer_email\",\"appointment_date\",\"call_start_time\",\"call_end_time\",\"duration\",\"status\",\"outcome\",\"sale_amount\",\"otter_ai_recording_id\",\"recording_url\",\"transcript_url\",\"analysis_data\",\"performance_score\",\"strengths\",\"weaknesses\",\"recommendations\",\"script_compliance\",\"key_topics_covered\",\"objections_handled\",\"customer_sentiment\",\"notes\",\"tags\",\"is_live_monitored\",\"live_session_id\",\"created_at\",\"updated_at\";","parameters":["a5d8042f-97f1-43b3-9372-1ad615f9e4e0",null,null,"Unknown Customer",null,"2025-09-25 17:23:36.279 +00:00",null,"completed",null,null,"ew98w8-324b3-33n",null,null,"{\"meeting_id\":\"ew98w8-324b3-33n\",\"sentiment_analysis\":{\"sentiment_category\":\"very impressive\",\"strengths\":\"so beauty\",\"weaknesses\":\"so ugly\",\"meeting_score\":\"10\"},\"transcript_data\":null}",9.99,"[\"so beauty\"]","[\"so ugly\"]","[]",null,"[]","[]","positive","[]",false,"2025-09-25 17:23:36.280 +00:00","2025-09-25 17:23:36.280 +00:00"]}
Error
    at Query.run (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\query.js:50:25)
    at D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async PostgresQueryInterface.insert (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\abstract\query-interface.js:308:21)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2490:35)
    at async SalesCall.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:788:32
2025-09-26 02:24:57 [ERROR]: Error sending notification: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Notification.user_id cannot be null","type":"notNull Violation","path":"user_id","value":null,"origin":"CORE","instance":{"id":"361bb0b7-dba0-46b8-82a5-1b1f234e4e61","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"call_completed","origin":"FUNCTION","instance":{"id":"361bb0b7-dba0-46b8-82a5-1b1f234e4e61","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"normal","origin":"FUNCTION","instance":{"id":"361bb0b7-dba0-46b8-82a5-1b1f234e4e61","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:838:9
2025-09-26 02:26:03 [ERROR]: Error sending notification: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Notification.user_id cannot be null","type":"notNull Violation","path":"user_id","value":null,"origin":"CORE","instance":{"id":"f05162c5-c965-42c9-b139-dfbc35146a3a","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"call_completed","origin":"FUNCTION","instance":{"id":"f05162c5-c965-42c9-b139-dfbc35146a3a","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"normal","origin":"FUNCTION","instance":{"id":"f05162c5-c965-42c9-b139-dfbc35146a3a","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:838:9
2025-09-26 02:26:26 [ERROR]: Error sending notification: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Notification.user_id cannot be null","type":"notNull Violation","path":"user_id","value":null,"origin":"CORE","instance":{"id":"fa4a857d-d238-449a-b03f-10ed3c48069e","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"call_completed","origin":"FUNCTION","instance":{"id":"fa4a857d-d238-449a-b03f-10ed3c48069e","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"normal","origin":"FUNCTION","instance":{"id":"fa4a857d-d238-449a-b03f-10ed3c48069e","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:838:9
2025-09-26 02:27:01 [ERROR]: Error sending notification: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeValidationError","errors":[{"message":"Notification.user_id cannot be null","type":"notNull Violation","path":"user_id","value":null,"origin":"CORE","instance":{"id":"f6803d52-4e87-4e3a-ad46-87047314c16b","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]},{"message":"Validation isIn on type failed","type":"Validation error","path":"type","value":"call_completed","origin":"FUNCTION","instance":{"id":"f6803d52-4e87-4e3a-ad46-87047314c16b","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"],"original":{"validatorName":"isIn","validatorArgs":["call_started","call_completed","performance_alert","live_intervention","system_alert","reminder","achievement","coaching_tip"]}},{"message":"Validation isIn on priority failed","type":"Validation error","path":"priority","value":"normal","origin":"FUNCTION","instance":{"id":"f6803d52-4e87-4e3a-ad46-87047314c16b","organizationId":null,"userId":null,"type":"call_completed","title":"OtterAI Analysis Complete","message":"Your meeting has been analyzed by OtterAI. Check the analytics dashboard for insights.","priority":"normal","status":"unread"},"validatorKey":"isIn","validatorName":"isIn","validatorArgs":["low","normal","high","urgent"],"original":{"validatorName":"isIn","validatorArgs":["low","normal","high","urgent"]}}]}
SequelizeValidationError: notNull Violation: Notification.user_id cannot be null,
Validation error: Validation isIn on type failed,
Validation error: Validation isIn on priority failed
    at InstanceValidator._validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:50:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async InstanceValidator._validateAndRunHooks (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:60:7)
    at async InstanceValidator.validate (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\instance-validator.js:54:12)
    at async model.save (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:2426:7)
    at async Notification.create (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\model.js:1362:12)
    at async D:\Projects\otterai\otterai-backend\src\routes\zapier.js:838:9
2025-09-26 02:50:54 [ERROR]: Error processing OtterAI analysis data: transcript_data is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: transcript_data is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\zapier.js:682:24
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at middleware (D:\Projects\otterai\otterai-backend\node_modules\express-validator\lib\middlewares\check.js:16:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 02:51:06 [ERROR]: Error processing OtterAI analysis data: transcript_data is not defined {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: transcript_data is not defined
    at D:\Projects\otterai\otterai-backend\src\routes\zapier.js:682:24
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at middleware (D:\Projects\otterai\otterai-backend\node_modules\express-validator\lib\middlewares\check.js:16:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 02:55:00 [ERROR]: Error handling sales call: Cannot access 'formatCalendarGuests' before initialization {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: Cannot access 'formatCalendarGuests' before initialization
    at D:\Projects\otterai\otterai-backend\src\routes\zapier.js:702:40
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at middleware (D:\Projects\otterai\otterai-backend\node_modules\express-validator\lib\middlewares\check.js:16:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 02:56:19 [ERROR]: Error handling sales call: Cannot access 'formatCalendarGuests' before initialization {"service":"otterai-sales-analytics","environment":"development"}
ReferenceError: Cannot access 'formatCalendarGuests' before initialization
    at D:\Projects\otterai\otterai-backend\src\routes\zapier.js:702:40
    at Layer.handle [as handle_request] (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Projects\otterai\otterai-backend\node_modules\express\lib\router\route.js:149:13)
    at middleware (D:\Projects\otterai\otterai-backend\node_modules\express-validator\lib\middlewares\check.js:16:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 03:42:18 [ERROR]: Error fetching analytics overview: Cannot read properties of null (reading 'first_name') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'first_name')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:80:45
    at Array.forEach (<anonymous>)
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:76:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 03:42:19 [ERROR]: Error fetching analytics overview: Cannot read properties of null (reading 'first_name') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'first_name')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:80:45
    at Array.forEach (<anonymous>)
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:76:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 03:53:56 [ERROR]: Error fetching analytics overview: Cannot read properties of null (reading 'first_name') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'first_name')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:80:45
    at Array.forEach (<anonymous>)
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:76:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 03:53:58 [ERROR]: Error fetching analytics overview: Cannot read properties of null (reading 'first_name') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'first_name')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:80:45
    at Array.forEach (<anonymous>)
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:76:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 03:54:32 [ERROR]: Authentication error: {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{"code":"EACCES"},"original":{"code":"EACCES"}}
SequelizeConnectionError
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:145:24)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Socket.reportStreamError (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\connection.js:57:12)
    at Socket.emit (node:events:507:28)
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-09-26 03:54:38 [ERROR]: Authentication error: {"service":"otterai-sales-analytics","environment":"development","name":"SequelizeConnectionError","parent":{"code":"EACCES"},"original":{"code":"EACCES"}}
SequelizeConnectionError
    at Client._connectionCallback (D:\Projects\otterai\otterai-backend\node_modules\sequelize\lib\dialects\postgres\connection-manager.js:145:24)
    at Client._handleErrorWhileConnecting (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:336:19)
    at Client._handleErrorEvent (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\client.js:346:19)
    at Connection.emit (node:events:507:28)
    at Socket.reportStreamError (D:\Projects\otterai\otterai-backend\node_modules\pg\lib\connection.js:57:12)
    at Socket.emit (node:events:507:28)
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-09-26 22:31:28 [ERROR]: Error fetching analytics overview: Cannot read properties of null (reading 'first_name') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'first_name')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:80:45
    at Array.forEach (<anonymous>)
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:76:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 22:31:29 [ERROR]: Error fetching analytics overview: Cannot read properties of null (reading 'first_name') {"service":"otterai-sales-analytics","environment":"development"}
TypeError: Cannot read properties of null (reading 'first_name')
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:80:45
    at Array.forEach (<anonymous>)
    at D:\Projects\otterai\otterai-backend\src\routes\analytics.js:76:16
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
